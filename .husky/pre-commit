# Husky pre-commit hook
# This runs automatically before every commit

echo "ğŸ” Running pre-commit checks..."

# Run linter
echo "ğŸ“ Running linter..."
npm run lint --quiet || {
  echo "âŒ Linter failed. Please fix the errors before committing."
  exit 1
}

# Run type check
echo "ğŸ”§ Running type check..."
npx tsc --noEmit || {
  echo "âŒ Type check failed. Please fix the errors before committing."
  exit 1
}

# Run tests for changed files
echo "ğŸ§ª Running tests..."
npm test -- --bail --findRelatedTests --passWithNoTests || {
  echo "âŒ Tests failed. Please fix the errors before committing."
  exit 1
}

echo "âœ… All pre-commit checks passed!"
